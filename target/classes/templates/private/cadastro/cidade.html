<!doctype html>
<html lang="pt-br" xmlns:th="http://www.thymeleaf.org" xmlns="http://www.w3.org/1999/html">

<head>
    <meta charset="UTF-8">
    <meta name="description" content="AutoArena Application">
    <meta name="keywords" content="AutoArena, springboot, html, thymeleaf">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title th:text="${pageTitle}"></title>

    <meta name="_csrf" th:content="${_csrf.token}"/>
    <meta name="_csrf_header" th:content="${_csrf.headerName}"/>
    <meta name="_csrf_parameter" th:content="${_csrf.parameterName}"/>

    <div th:replace="~{fragments/privateCSS :: privateCss}"></div>

</head>

<body>

<div id="wrapper">

    <div th:replace="~{fragments/privateHeader :: headerFragment}"></div>

    <div th:replace="~{fragments/privateLeftMenu :: leftMenuFragment}"></div>

    <div class="main">
        <div class="main-content">
            <div class="container-fluid">
                <h3 class="page-title"><p th:text="${pageTitle}"></p></h3>

                <div class="panel panel-headline demo-icons">

                    <div class="panel-body">

                        <form id="cidadeForm" th:action="@{/private/cadastro/cidade/registro}" method="post">

                            <input type="hidden" id="cidadeId" name="id" value="">

                            <div class="form-group col-md-4">
                                <label for="selectPais">País</label>
                                <select class="form-control" id="selectPais" name="selectPais" required>
                                    <option value="">-- Selecione um País --</option>
                                    <option th:each="pais : ${paises}"
                                            th:value="${pais.id}"
                                            th:text="${pais.nome}">
                                        Nome do País
                                    </option>
                                </select>
                            </div>

                            <div class="form-group col-md-4">
                                <label for="selectEstado">Estado</label>
                                <select class="form-control" id="selectEstado" name="selectEstado" required>
                                    <option value="">-- Selecione um Estado --</option>
                                </select>
                            </div>

                            <div class="form-group col-md-4">
                                <label for="txtNome">Nome</label>
                                <input type="text" class="form-control" id="txtNome" name="txtNome" placeholder="Digite o nome da cidade" required>
                            </div>

                            <input type="hidden" th:name="${_csrf.parameterName}" th:value="${_csrf.token}" />

                            <div class="form-group col-md-12">
                                <button type="submit" class="btn btn-default" id="submitButton">Salvar</button>
                                <button type="button" class="btn btn-default" id="cancelButton" style="display: none;">Cancelar</button>
                            </div>
                        </form>
                    </div>
                </div>

                <div class="panel panel-headline demo-icons">
                    <!--
                    <div class="panel-heading">
                        <h4 class="panel-title" th:text="${blockTitle}"></h4>
                        <p class="panel-subtitle" th:text="${blockSubtitle}"></p>
                    </div>
                    -->
                    <div class="panel-body">

                        <h4 class="panel-title" th:text="Filtros"></h4>

                        <hr>
                        <form method="get" th:action="@{/private/cadastro/cidade}">
                            <div class="row">
                                <div class="form-group col-md-2">
                                    <label for="filtroPaisId">País</label>
                                    <select id="filtroPaisId" name="paisId" class="form-control">
                                        <option value="">Todos</option>
                                        <option th:each="pais : ${paises}"
                                                th:value="${pais.id}"
                                                th:text="${pais.nome}"
                                                th:selected="${filtroPaisId != null and filtroPaisId == pais.id}">
                                        </option>
                                    </select>
                                </div>
                                <div class="form-group col-md-2">
                                    <label for="filtroEstadoId">Estado</label>
                                    <select id="filtroEstadoId" name="estadoId" class="form-control">
                                        <option value="">Todos</option>
                                        <option th:each="estado : ${estadosFiltrar}"
                                                th:value="${estado.id}"
                                                th:text="${estado.nome + ' (' + estado.uf + ')'}"
                                                th:selected="${filtroEstadoId != null and filtroEstadoId == estado.id}">
                                        </option>
                                    </select>
                                </div>
                                <div class="form-group col-md-4">
                                    <label for="filtroNome">Nome da Cidade</label>
                                    <input type="text" id="filtroNome" name="nome" class="form-control" th:value="${filtroNome}" placeholder="Nome da cidade">
                                </div>
                                <div class="form-group col-md-2">
                                    <label for="filtroOrdenacao">Ordenar por</label>
                                    <select id="filtroOrdenacao" name="sort" class="form-control">
                                        <option value="nome,asc" th:selected="${sort != null and sort == 'nome,asc'}">Nome (A-Z)</option>
                                        <option value="nome,desc" th:selected="${sort != null and sort == 'nome,desc'}">Nome (Z-A)</option>
                                        <option value="id,asc" th:selected="${sort != null and sort == 'id,asc'}">ID (Crescente)</option>
                                        <option value="id,desc" th:selected="${sort != null and sort == 'id,desc'}">ID (Decrescente)</option>
                                    </select>
                                </div>
                                <div class="form-group col-md-2">
                                    <label for="filtroTamanho">Exibir Itens por página</label>
                                    <select id="filtroTamanho" name="size" class="form-control">
                                        <option value="5" th:selected="${size == 5}">5</option>
                                        <option value="10" th:selected="${size == 10}">10</option>
                                        <option value="15" th:selected="${size == 15}">15</option>
                                        <option value="20" th:selected="${size == 20}">20</option>
                                    </select>
                                </div>
                            </div>
                            <div class="form-group">
                                <button type="submit" class="btn btn-default">Filtrar e Ordenar</button>
                                <a th:href="@{/private/cadastro/cidade}" class="btn btn-default">Limpar Filtros</a>
                            </div>
                        </form>

                        <hr>
                        <div class="table-responsive">
                                <table class="table table-striped">
                            <thead>
                            <tr>
                                <th>ID</th>
                                <th>Nome da Cidade</th>
                                <th>Estado (UF)</th>
                                <th>País</th>
                                <th>Ações</th>
                            </tr>
                            </thead>
                            <tbody>
                            <tr th:each="cidade : ${cidades}">
                                <td th:text="${cidade.id}">1</td>
                                <td th:text="${cidade.nome}">Nome da Cidade Exemplo</td>
                                <td th:text="${cidade.estado.nome + ' (' + cidade.estado.uf + ')'}">Nome do Estado (UF)</td>
                                <td th:text="${cidade.estado.pais.nome}">Nome do País</td>
                                <td>
                                    <button type="button" class="btn btn-sm btn-info edit-cidade-btn"
                                            th:data-id="${cidade.id}"
                                            th:data-nome="${cidade.nome}"
                                            th:data-estado-id="${cidade.estado.id}"
                                            th:data-pais-id="${cidade.estado.pais.id}">
                                        Editar
                                    </button>
                                    <button type="button" class="btn btn-sm btn-danger delete-cidade-btn"
                                            th:data-id="${cidade.id}"
                                            th:data-nome="${cidade.nome}">
                                        Excluir
                                    </button>
                                </td>
                            </tr>
                            <tr th:if="${#lists.isEmpty(cidades.content)}">
                                <td colspan="5" class="text-center">Nenhuma cidade encontrada.</td>
                            </tr>
                            </tbody>
                            <!--
                            <tr th:if="${#lists.isEmpty(cidades.content)}">
                                <td colspan="5" class="text-center">Nenhuma cidade cadastrada ainda.</td>
                            </tr>
                            -->
                        </table>
                        </div>
                    </div>


                    <div th:if="${page.totalPages > 0}" class="text-center">
                        <ul class="pagination">
                            <li th:class="${cidades.first ? 'disabled' : ''}">
                                <a th:href="@{/private/cadastro/cidade(page=${0}, size=${size}, sort=${sort}, nome=${filtroNome}, paisId=${filtroPaisId}, estadoId=${filtroEstadoId})}">&laquo;</a>
                            </li>
                            <!--
                            <li th:class="${cidades.first ? 'disabled' : ''}">
                                <a th:href="@{/private/cadastro/cidade(page=${cidades.number - 1}, size=${size}, sort=${sort}, nome=${filtroNome}, paisId=${filtroPaisId}, estadoId=${filtroEstadoId})}">&lsaquo;</a>
                            </li>
                            -->
                            <li th:each="i : ${#numbers.sequence(0, page.totalPages - 1)}" th:class="${cidades.number == i ? 'active' : ''}">
                                <a th:href="@{/private/cadastro/cidade(page=${i}, size=${size}, sort=${sort}, nome=${filtroNome}, paisId=${filtroPaisId}, estadoId=${filtroEstadoId})}" th:text="${i + 1}"></a>
                            </li>
                            <!--
                            <li th:class="${cidades.last ? 'disabled' : ''}">
                                <a th:href="@{/private/cadastro/cidade(page=${cidades.number + 1}, size=${size}, sort=${sort}, nome=${filtroNome}, paisId=${filtroPaisId}, estadoId=${filtroEstadoId})}">&rsaquo;</a>
                            </li>
                            -->
                            <li th:class="${cidades.last ? 'disabled' : ''}">
                                <a th:href="@{/private/cadastro/cidade(page=${page.totalPages - 1}, size=${size}, sort=${sort}, nome=${filtroNome}, paisId=${filtroPaisId}, estadoId=${filtroEstadoId})}">&raquo;</a>
                            </li>
                        </ul>
                    </div>

                </div>



            </div>
        </div>
    </div>

    <div th:replace="~{fragments/privateFooter :: footerFragment}"></div>
</div>

<div th:replace="~{fragments/privateScriptsJS :: privateScriptsJs}"></div>

<script th:src="@{/js/private/cidade-script.js}"></script>


</body>
</html>