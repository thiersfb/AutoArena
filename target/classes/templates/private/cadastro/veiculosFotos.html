<!doctype html>
<html lang="pt-br" xmlns:th="http://www.thymeleaf.org">

<head>
    <meta charset="UTF-8">
    <meta name="description" content="HVAC Template">
    <meta name="keywords" content="HVAC, unica, creative, html">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>AutoArena | Dashboard</title>

    <meta name="_csrf" th:content="${_csrf.token}"/>
    <meta name="_csrf_header" th:content="${_csrf.headerName}"/>
    <meta name="_csrf_parameter" th:content="${_csrf.parameterName}"/>

    <div th:replace="~{fragments/privateCSS :: privateCss}"></div>

</head>

<body>


<!-- WRAPPER -->
<div id="wrapper">

    <div th:replace="~{fragments/privateHeader :: headerFragment}"></div>

    <div th:replace="~{fragments/privateLeftMenu :: leftMenuFragment}"></div>


    <!-- MAIN -->
    <div class="main">
        <!-- MAIN CONTENT -->
        <div class="main-content">
            <div class="container-fluid">
                <!--<h3 class="page-title">Page Header | Title</h3>-->
                <h3 class="page-title"><p th:text="${pageTitle}"></p></h3>

                <div class="panel panel-headline demo-icons">
                    <!--
                    <div class="panel-heading">
                        <h3 class="panel-title"><p th:text="${blockTitle}"></p></h3>
                        <p class="subtitle"><p th:text="${blockSubtitle}"></p></a></p>
                    </div>
                    -->
                    <div class="panel-body">
                        <!--<span class="cssclass">Block | Text</span>-->
                        <span class="cssclass"><p th:text="${blockText}"></p></span>


                        <!--<h2 th:text="'Fotos do Veículo: ' + ${veiculo.modelo}"></h2>-->


                        <!--<a th:href="@{/private/cadastro/veiculos}" class="btn btn-secondary mb-3">Voltar para a Lista de Veículos</a>-->

                        <!--<form th:action="@{/private/veiculos/fotos/salvar/{veiculoId}(veiculoId=${veiculo.id})}"-->
                        <form th:action="@{/private/cadastro/veiculosFotos/salvar/{veiculoId}(veiculoId=${veiculo.id})}"
                              method="post"
                              enctype="multipart/form-data">
                            <div class="form-group">
                                <label for="foto">Selecionar Nova Foto</label>
                                <input type="file" id="foto" name="foto" class="form-control-file" required>
                            </div>
                            <!--<button type="submit" class="btn btn-primary">Salvar Foto</button>-->
                            <button type="submit" class="btn btn-default">Salvar</button>

                            <input type="hidden" th:name="${_csrf.parameterName}" th:value="${_csrf.token}" />
                        </form>

                        <!--<hr>-->


                    </div>
                </div>

                <div class="panel">
                    <div class="panel-heading">
                        <h4 class="panel-title" th:text="${blockTitle}"></h4>
                        <p class="panel-subtitle" th:text="${blockSubtitle}"></p>
                    </div>
                    <div class="panel-body">

                        <!--<h3>Fotos Atuais</h3>-->
                        <table class="table table-striped">
                            <thead>
                            <tr>
                                <th>Foto</th>
                                <!--<th>É Principal</th>-->
                                <th>Foto Capa</th>
                                <th>Ações</th>
                            </tr>
                            </thead>
                            <tbody>
                            <tr th:each="foto : ${fotos}">
                                <td>
                                    <!--<img th:src="@{/private/veiculos/fotos/visualizar/{fotoId}(fotoId=${foto.id})}" style="max-width: 150px;"/>-->
                                    <img th:src="@{/private/cadastro/veiculosFotos/visualizar/{fotoId}(fotoId=${foto.id})}" style="max-width: 150px;"/>
                                </td>
                                <td th:text="${foto.isFotoPrincipal()} ? 'Sim' : 'Não'"></td>
                                <td>
                                    <!--<form th:action="@{/private/veiculos/fotos/excluir/{fotoId}(fotoId=${foto.id})}" method="post" style="display:inline;">-->
                                    <form th:action="@{/private/cadastro/veiculosFotos/excluir/{fotoId}(fotoId=${foto.id})}" method="post" style="display:inline;">
                                        <input type="hidden" name="veiculoId" th:value="${veiculo.id}" />
                                        <button type="submit" class="btn btn-danger btn-xs" title="Excluir Foto" onclick="return confirm('Tem certeza que deseja excluir esta foto?');">
                                            <i class="fa fa-trash-o"></i>
                                            Excluir
                                        </button>
                                        <input type="hidden" th:name="${_csrf.parameterName}" th:value="${_csrf.token}" />
                                    </form>

                                    <!--<form th:action="@{/private/veiculos/fotos/definir-principal/{fotoId}(fotoId=${foto.id})}" method="post" style="display:inline;">-->
                                    <form th:action="@{/private/cadastro/veiculosFotos/definir-principal/{fotoId}(fotoId=${foto.id})}" method="post" style="display:inline;">
                                        <input type="hidden" name="veiculoId" th:value="${veiculo.id}" />
                                        <button type="submit" class="btn btn-info btn-xs" th:unless="${foto.isFotoPrincipal()}" title="Definir como foto de capa">
                                            <i class="fa fa-star"></i>
                                            Definir como foto de capa
                                        </button>
                                        <input type="hidden" th:name="${_csrf.parameterName}" th:value="${_csrf.token}" />
                                    </form>

                                </td>
                            </tr>
                            </tbody>
                        </table>


                    </div>
                </div>

            </div>
        </div>
        <!-- END MAIN CONTENT -->
    </div>
    <!-- END MAIN -->


    <div th:replace="~{fragments/privateFooter :: footerFragment}"></div>
</div>

<!-- END WRAPPER -->

<div th:replace="~{fragments/privateScriptsJS :: privateScriptsJs}"></div>

</body>

</html>